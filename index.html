<!DOCTYPE html>
<html>
<style>
/* .world {
  position: absolute;
  overflow: hidden;
  width: 100%;
  height: 100%;

} */
</style>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SheepBaboons</title>
  <link rel="icon" href="./assets/images/cute-sheep.png" type="image/gif" sizes="16x16">

  <!-- CSS Libraries -->
  <link rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css" />

  <!-- CSS Source -->
  <link rel="stylesheet" href="./src/css/style.css" />

  <!-- JS Libraries -->
  <script src="./lib/jquery-3.3.1.min.js"></script>
  <script src="./lib/three.js"></script>
  <script src="./lib/bootstrap/js/bootstrap.min.js"></script>
  <script charset="utf-8" type="text/javascript" src="./lib/d3/d3.v4.min.js"></script>
  <script src="./lib/OrbitControls.js"></script>
  <script src="./lib/fbx/FBXLoader.js"></script> <!-- For loading sheep.fbx model -->
  <script src="./lib/fbx/inflate.min.js"></script>
  <script src="./lib/WebGL.js"></script>

  <!-- JS Source -->
  <script src="./src/js/scene.js"></script>
  <script src="./src/js/fieldSystem.js"></script>
  <script src="./src/js/main.js"></script>
  <script src="./src/js/sheep.js"></script>

  <!-- JS Source -->

</head>

<body onload="App.start();" style="background: rgb(207,219,219);">
  <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light ">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="./assets/images/cute-sheep.png" />
        SheepBaboons
      </a>
    </div>
  </nav>
  <div class="row">
    <section id="filter-section" class="col-md-12 pb-2 pt-4" style="background: #efefef;">
      <div class="container">
        <form>
          <div class="form-row">
            <div class="form-group col-md-4 px-3">
              <label for="sampleRate"> Sample Rate: <span id="rate"></span></label>
              <input id="sampleRate" type="range" min="1" max="10" value="5" class="slider mt-2" />
            </div>

            <div class="form-group col-md-4 px-3">
              <label for="selectAnimal"> Select Animal </label>
              <select id="selectAnimal" class="form-control">
                <option selected> </option>
                <option> Sheep ID1 </option>
                <option> Sheep ID2 </option>
                <option> Sheep ID3 </option>
                <option> Baboon ID1 </option>
                <option> Baboon ID2 </option>
                <option> Baboon ID3 </option>
              </select>
            </div>

            <div class="form-group col-md-4 px-3">
              <label for="reset"> &nbsp; </label>
              <button type="submit" id="reset" class="btn btn-success form-control"> Reset Filters </button>
            </div>
          </div>
        </form>
      </div>
    </section>
  </div>

  <div class="row">
      <section id="svg-section" class="col-md-12 px-3" style="background: rgb(207,219,219);margin:0 auto;">
        <div class="container-fluid" style="text-align: center">
          <div class="row">
            <div class="fieldDiv col-md-10 px-3" style="margin:0 auto;">
              <div id="scene" class="world">
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  

  <div class="row">
    <section id="footer" class="col-md-12 pb-2 pt-4" style="background: rgb(138,140,191);height:100px;">
    </section>
  </div>
</body>
<script>
  var slider = document.getElementById("sampleRate");
  var output = document.getElementById("rate");
  output.innerHTML = slider.value;
</script>

</html>


<!--

		<script>
		var controls;

		var gps_data={};
		var loader = new THREE.FileLoader();
		var lat={};
		var long={};
		var timestamp={};
		//load a text file and output the result to the console
		d3.csv("data/gps_processed_C2.csv", function(data) {
				gps_data=data;
				for (i = 0; i < data.length; i++) {
					timestamp[i]=parseInt(data[i]['TIMESTAM']);
					lat[i]=parseFloat(data[i]['Latitude']);
					long[i]=(parseFloat(data[i]['Longitude'])-36);
					//console.log(lat[i]);

			}

				});

			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );


			var geometry = new THREE.CircleGeometry( 0.003,100 );
			var material = new THREE.MeshBasicMaterial( { color: "blue" } );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );
			var axesHelper = new THREE.AxesHelper( 5 );
			scene.add( axesHelper );
			camera.position.x = 0.3;
			camera.position.z = 0.09999999999999999;
			camera.position.y = 0.9;
			//controls = new THREE.OrbitControls( camera,renderer.domElement );

			// var gps_data1 = d3.nest()
		  // .key(function(d) { return d.TIMESTAM; })
		  // .rollup(function(v) { return d3.mean(v, function(d) {console.log(d); return d.Latitude; }); })
			// .rollup(function(v) { return d3.mean(v, function(d) {console.log(d); return d.Longitude; }); })
		  // .entries(gps_data);
			// console.log(gps_data1);
			function sleep(milliseconds) {
			  var start = new Date().getTime();
			  for (var i = 0; i < 1e7; i++) {
			    if ((new Date().getTime() - start) > milliseconds){
			      break;
			    }
			  }
			}
			var count=0;
			var animate = function () {
				var geometry = new THREE.CircleGeometry( 0.001,100 );
				var material = new THREE.MeshBasicMaterial( { color: "green" } );
				var cube1 = new THREE.Mesh( geometry, material );
				cube1.position.set(lat[count-1],long[count-1] , 0);
				scene.add( cube1 );
				requestAnimationFrame( animate );
				cube.position.set(lat[count],long[count] , 0);
				count=count+1;
				//console.log(count);
				renderer.render( scene, camera );
				console.log(timestamp[count+1]-timestamp[count]);
				sleep((timestamp[count+1]-timestamp[count])*100);
			};

			animate();






		</script> -->
